'use strict'
const path = require('path')<%= semiColon %>
const server = require('./server')<%= semiColon %>

const options = {
    dependencies: {}, // add database connections or other items as dependencies
    mockDependencies: {},
    oasDocumentPath: path.resolve(__dirname, '<%= oasDocName %>'),
    port: 3000
}

// Start the server
server(options)
    .then(({ on, port }) => {
        on('end', () => {
            // When the server shuts down, clean up any loose ends here.
            // For example, close database connections
        })<%= semiColon -%>

        // Log to the console that the server is running
        console.log('\nServer listening on port: ' + port)<%= semiColon %>
    })
    .catch(err => {
        console.error(err.stack)<%= semiColon %>
    })<%= semiColon %>
